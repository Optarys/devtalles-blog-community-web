---
import RootLayout from "@/layouts/RootLayout.astro";
import Button from "@/components/ui/Button.tsx";
import InputField from "@/components/ui/InputField.astro";
import { FaDiscord } from "react-icons/fa";
---

<RootLayout title="Iniciar sesión">
  <!-- Full screen split -->
  <section class="grid min-h-[100svh] w-full grid-cols-1 md:grid-cols-2">
    <!-- IZQUIERDA: Branding con fondo + overlay oscuro -->
    <div
      class="relative flex items-center justify-center p-8 md:p-12 overflow-hidden"
    >
      <!-- Fondo imagen (ajusta la ruta/extension a tu archivo real) -->
      <div
        class="absolute inset-0 bg-[url('/assets/png/evtalles.jpg')] bg-cover bg-center"
        aria-hidden="true"
      >
      </div>
      <!-- Overlay negro con opacidad -->
      <div class="absolute inset-0 bg-black/55" aria-hidden="true"></div>

      <div class="relative z-10 max-w-md text-center md:text-left">
        <img
          src="/assets/png/LOGO%20B.png"
          alt="DevTalles"
          class="mx-auto h-10 w-auto md:mx-0"
          loading="lazy"
          decoding="async"
        />

        <h1 class="mt-6 text-3xl font-extrabold text-[var(--color-title)]">
          Bienvenido a la comunidad DevTalles
        </h1>
        <p class="mt-3 text-[var(--color-text)]/80">
          Artículos y recursos para crecer como desarrollador: frontend,
          backend, arquitectura, productividad y mejores prácticas.
        </p>

        <ul class="mt-6 space-y-3 text-sm text-[var(--color-text)]/90">
          <li class="flex items-start gap-3">
            <span
              class="mt-1 inline-block h-2 w-2 rounded-full bg-[var(--color-accent)]"
            ></span>
            <span>Contenido curado por y para la comunidad.</span>
          </li>
          <li class="flex items-start gap-3">
            <span
              class="mt-1 inline-block h-2 w-2 rounded-full bg-[var(--color-accent)]"
            ></span>
            <span>Snippets y ejemplos listos para usar.</span>
          </li>
          <li class="flex items-start gap-3">
            <span
              class="mt-1 inline-block h-2 w-2 rounded-full bg-[var(--color-accent)]"
            ></span>
            <span>Eventos, novedades y participación abierta.</span>
          </li>
        </ul>

        <a
          href="https://cursos.devtalles.com/"
          target="_blank"
          rel="noopener noreferrer"
          class="mt-8 inline-block rounded-lg border border-[var(--color-accent)] px-5 py-2 font-semibold
         text-[var(--color-accent)] transition hover:bg-[var(--color-accent)]
         hover:text-[var(--color-accent-foreground)]"
        >
          Conocer más
        </a>
      </div>
    </div>

    <!-- DERECHA: Formulario de login -->
    <div class="flex items-center justify-center p-8 md:p-12">
      <div
        class="w-full max-w-md rounded-2xl border border-white/10 bg-[var(--color-contrast)]/60 p-8 shadow-xl backdrop-blur-sm"
      >
        <h2 class="mb-1 text-2xl font-bold text-[var(--color-title)]">
          Inicia sesión
        </h2>
        <p class="mb-6 text-sm text-[var(--color-text)]/70">
          Usa tu correo y contraseña. (También puedes entrar con Discord)
        </p>

        <form class="space-y-5" method="post" action="/auth/login">
          <InputField
            id="email"
            name="email"
            type="email"
            label="Correo electrónico"
            placeholder="tucorreo@email.com"
            required
          />
          <InputField
            id="password"
            name="password"
            type="password"
            label="Contraseña"
            placeholder="••••••••"
            required
          />

          <div class="flex items-center justify-between">
            <a
              href="/auth/forgot"
              class="text-xs text-[var(--color-accent)] hover:underline"
            >
              ¿Olvidaste tu contraseña?
            </a>
          </div>

          <Button type="submit" fullWidth={true} size="md">
            Iniciar sesión
          </Button>
        </form>

        <div class="my-6 flex items-center">
          <span class="h-px flex-1 bg-white/10"></span>
          <span class="mx-3 text-xs text-[var(--color-text)]/60">o</span>
          <span class="h-px flex-1 bg-white/10"></span>
        </div>

        <Button
          href="/auth/discord"
          variant="outline"
          fullWidth={true}
          size="md"
        >
          Continuar con Discord
        </Button>

        <p class="mt-6 text-center text-sm text-[var(--color-text)]/70">
          ¿No tienes cuenta?
          <a
            href="/auth/register"
            class="font-medium text-[var(--color-accent)] hover:underline"
            >Regístrate</a
          >
        </p>
      </div>
    </div>
  </section>
</RootLayout>
